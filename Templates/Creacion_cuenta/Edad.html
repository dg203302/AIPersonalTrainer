<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <header>
        <h1>Comencemos</h1>
    </header>
    <main>
        <form id="form_ingreso_edad">
            <div id="selector_edad">
                <label for="edad">Fecha de nacimiento:</label>
                <input type="number" id="dia" name="dia" min="1" max="31" required>
                <input type="number" id="mes" name="mes" min="1" max="12" required>
                <input type="number" id="ano" name="ano" min="1900" max="2032" required>
            </div>
            <input type="submit" >Siguiente</input>
        </form>
    </main>
    <footer>
        <a href="/index.html">Volver</a> <!--poner un icono de inicio-->
    </footer>

    <script type="module">
        import dayjs from "https://esm.sh/dayjs@1";

        document.getElementById("form_ingreso_edad").addEventListener("submit", function (event) {
            event.preventDefault();

            const dia = parseInt(document.getElementById("dia").value, 10);
            const mes = parseInt(document.getElementById("mes").value, 10);
            const ano = parseInt(document.getElementById("ano").value, 10);

            const nacimiento = dayjs(`${ano}-${mes}-${dia}`);
            const hoy = dayjs();

            if (!nacimiento.isValid()) {
                alert("Fecha de nacimiento inv√°lida");
                return;
            }

            const edad = hoy.diff(nacimiento, "year");
            sessionStorage.setItem("edad_temp", String(edad));
            return window.location.href = "/Templates/Creacion_cuenta/Seleccion_Altura"
        });
    </script>
</body>
</html>